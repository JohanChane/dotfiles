<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
  <!-- ============================================== -->
  <!-- 字体特性设置 -->
  <!-- ============================================== -->

  <!-- DejaVu 等宽字体连字特性 -->
  <match target="font">
    <test name="family" compare="eq">
      <string>DejaVu Sans Mono</string>
    </test>
    <edit name="fontfeatures" mode="append">
      <string>calt on</string>  <!-- 上下文替代 -->
      <string>liga on</string>  <!-- 标准连字 -->
    </edit>
  </match>

  <!-- 中文斜体修复 -->
  <match target="font">
    <test name="lang" compare="contains">
      <string>zh</string>
    </test>
    <test name="family" compare="contains">
      <string>WenQuanYi</string>
    </test>
    <edit name="globaladvance" mode="assign">
      <bool>false</bool>
    </edit>
  </match>

  <!-- 小字号 hinting 优化 -->
  <match target="font">
    <test name="pixelsize" compare="less_eq">
      <double>10</double>
    </test>
    <edit name="hintstyle" mode="assign">
      <const>hintmedium</const>
    </edit>
  </match>
</fontconfig>
